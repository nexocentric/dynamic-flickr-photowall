var samplePhotoList1 = {
	"photos": { 
		"page": 1, 
		"pages": "478", 
		"perpage": 10, 
		"total": "4775", 
		"photo": [
			{ 
				"id": "1",
				"owner": "42488861@N06",
				"secret": "7317472fef",
				"server": "3845",
				"farm": 4,
				"title": "14378855155_78e7fee821_o.jpg",
				"ispublic": 1,
				"isfriend": 0,
				"isfamily": 0,
				"dateupload": "1409955161",
				"lastupdate": "1410019762",
				"datetaken": "2014-06-01 17:41:22",
				"datetakengranularity": 0,
				"ownername": "nexocentric",
				"iconserver": "2630",
				"iconfarm": 3, "views": 0,
				"tags": "",
				"machine_tags": "",
				"latitude": 0,
				"longitude": 0, "accuracy": 0, "context": 0, "media": "photo",
				"media_status": "ready",
				"url_sq": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_s.jpg",
				"height_sq": 75, "width_sq": 75, "url_t": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_t.jpg",
				"height_t": 75, "width_t": 100, "url_s": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_m.jpg",
				"height_s": "180",
				"width_s": "240",
				"url_q": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_q.jpg",
				"height_q": "150",
				"width_q": "150",
				"url_m": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef.jpg",
				"height_m": "375",
				"width_m": "500",
				"url_n": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_n.jpg",
				"height_n": "240",
				"width_n": "320",
				"url_z": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_z.jpg",
				"height_z": "480",
				"width_z": "640",
				"url_c": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_c.jpg",
				"height_c": "600",
				"width_c": "800",
				"url_l": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_b.jpg",
				"height_l": "768",
				"width_l": "1024",
				"pathalias": "nexocentric" },
			{ 
				"id": "2",
				"owner": "42488861@N06",
				"secret": "dc334c5f23",
				"server": "5559",
				"farm": 6,
				"title": "14499738191_3500e1f63a_o.jpg",
				"ispublic": 1,
				"isfriend": 0,
				"isfamily": 0,
				"dateupload": "1409954858",
				"lastupdate": "1410019762",
				"datetaken": "2014-06-24 04:51:26",
				"datetakengranularity": 0,
				"ownername": "nexocentric",
				"iconserver": "2630",
				"iconfarm": 3, "views": 0,
				"tags": "",
				"machine_tags": "",
				"latitude": 0,
				"longitude": 0, "accuracy": 0, "context": 0, "media": "photo",
				"media_status": "ready",
				"url_sq": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_s.jpg",
				"height_sq": 75, "width_sq": 75, "url_t": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_t.jpg",
				"height_t": 75, "width_t": 100, "url_s": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_m.jpg",
				"height_s": "180",
				"width_s": "240",
				"url_q": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_q.jpg",
				"height_q": "150",
				"width_q": "150",
				"url_m": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23.jpg",
				"height_m": "375",
				"width_m": "500",
				"url_n": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_n.jpg",
				"height_n": "240",
				"width_n": "320",
				"url_z": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_z.jpg",
				"height_z": "480",
				"width_z": "640",
				"url_c": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_c.jpg",
				"height_c": "600",
				"width_c": "800",
				"url_l": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_b.jpg",
				"height_l": "768",
				"width_l": "1024",
				"pathalias": "nexocentric" },
			{ 
				"id": "3",
				"owner": "42488861@N06",
				"secret": "07f872e1a3",
				"server": "3904",
				"farm": 4,
				"title": "14355939586_a27caf5d05_o.jpg",
				"ispublic": 1,
				"isfriend": 0,
				"isfamily": 0,
				"dateupload": "1409894021",
				"lastupdate": "1410019762",
				"datetaken": "2014-05-25 21:07:07",
				"datetakengranularity": 0,
				"ownername": "nexocentric",
				"iconserver": "2630",
				"iconfarm": 3, "views": 0,
				"tags": "",
				"machine_tags": "",
				"latitude": 0,
				"longitude": 0, "accuracy": 0, "context": 0, "media": "photo",
				"media_status": "ready",
				"url_sq": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_s.jpg",
				"height_sq": 75, "width_sq": 75, "url_t": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_t.jpg",
				"height_t": 75, "width_t": 100, "url_s": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_m.jpg",
				"height_s": "180",
				"width_s": "240",
				"url_q": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_q.jpg",
				"height_q": "150",
				"width_q": "150",
				"url_m": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3.jpg",
				"height_m": "375",
				"width_m": "500",
				"url_n": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_n.jpg",
				"height_n": "240",
				"width_n": "320",
				"url_z": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_z.jpg",
				"height_z": "480",
				"width_z": "640",
				"url_c": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_c.jpg",
				"height_c": "600",
				"width_c": "800",
				"url_l": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_b.jpg",
				"height_l": "768",
				"width_l": "1024",
				"pathalias": "nexocentric" },
			{ 
				"id": "4",
				"owner": "42488861@N06",
				"secret": "35c9796be7",
				"server": "3879",
				"farm": 4,
				"title": "14503444755_6cd31cef84_o.jpg",
				"ispublic": 1,
				"isfriend": 0,
				"isfamily": 0,
				"dateupload": "1409887016",
				"lastupdate": "1410019762",
				"datetaken": "2014-06-18 10:58:38",
				"datetakengranularity": 0,
				"ownername": "nexocentric",
				"iconserver": "2630",
				"iconfarm": 3, "views": 0,
				"tags": "",
				"machine_tags": "",
				"latitude": 0,
				"longitude": 0, "accuracy": 0, "context": 0, "media": "photo",
				"media_status": "ready",
				"url_sq": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_s.jpg",
				"height_sq": 75, "width_sq": 75, "url_t": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_t.jpg",
				"height_t": 75, "width_t": 100, "url_s": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_m.jpg",
				"height_s": "180",
				"width_s": "240",
				"url_q": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_q.jpg",
				"height_q": "150",
				"width_q": "150",
				"url_m": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7.jpg",
				"height_m": "375",
				"width_m": "500",
				"url_n": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_n.jpg",
				"height_n": "240",
				"width_n": "320",
				"url_z": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_z.jpg",
				"height_z": "480",
				"width_z": "640",
				"url_c": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_c.jpg",
				"height_c": "600",
				"width_c": "800",
				"url_l": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_b.jpg",
				"height_l": "768",
				"width_l": "1024",
				"pathalias": "nexocentric" }
		] }, 
		"stat": "ok" 
};
var samplePhotoList2 = {
	"photos": { 
		"page": 1, 
		"pages": "478", 
		"perpage": 10, 
		"total": "4775", 
		"photo": [
			{ 
				"id": "11",
				"owner": "42488861@N06",
				"secret": "7317472fef",
				"server": "3845",
				"farm": 4,
				"title": "14378855155_78e7fee821_o.jpg",
				"ispublic": 1,
				"isfriend": 0,
				"isfamily": 0,
				"dateupload": "1409955161",
				"lastupdate": "1410019762",
				"datetaken": "2014-06-01 17:41:22",
				"datetakengranularity": 0,
				"ownername": "nexocentric",
				"iconserver": "2630",
				"iconfarm": 3, "views": 0,
				"tags": "",
				"machine_tags": "",
				"latitude": 0,
				"longitude": 0, "accuracy": 0, "context": 0, "media": "photo",
				"media_status": "ready",
				"url_sq": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_s.jpg",
				"height_sq": 75, "width_sq": 75, "url_t": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_t.jpg",
				"height_t": 75, "width_t": 100, "url_s": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_m.jpg",
				"height_s": "180",
				"width_s": "240",
				"url_q": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_q.jpg",
				"height_q": "150",
				"width_q": "150",
				"url_m": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef.jpg",
				"height_m": "375",
				"width_m": "500",
				"url_n": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_n.jpg",
				"height_n": "240",
				"width_n": "320",
				"url_z": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_z.jpg",
				"height_z": "480",
				"width_z": "640",
				"url_c": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_c.jpg",
				"height_c": "600",
				"width_c": "800",
				"url_l": "https:\/\/farm4.staticflickr.com\/3845\/14964327059_7317472fef_b.jpg",
				"height_l": "768",
				"width_l": "1024",
				"pathalias": "nexocentric" },
			{ 
				"id": "12",
				"owner": "42488861@N06",
				"secret": "dc334c5f23",
				"server": "5559",
				"farm": 6,
				"title": "14499738191_3500e1f63a_o.jpg",
				"ispublic": 1,
				"isfriend": 0,
				"isfamily": 0,
				"dateupload": "1409954858",
				"lastupdate": "1410019762",
				"datetaken": "2014-06-24 04:51:26",
				"datetakengranularity": 0,
				"ownername": "nexocentric",
				"iconserver": "2630",
				"iconfarm": 3, "views": 0,
				"tags": "",
				"machine_tags": "",
				"latitude": 0,
				"longitude": 0, "accuracy": 0, "context": 0, "media": "photo",
				"media_status": "ready",
				"url_sq": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_s.jpg",
				"height_sq": 75, "width_sq": 75, "url_t": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_t.jpg",
				"height_t": 75, "width_t": 100, "url_s": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_m.jpg",
				"height_s": "180",
				"width_s": "240",
				"url_q": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_q.jpg",
				"height_q": "150",
				"width_q": "150",
				"url_m": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23.jpg",
				"height_m": "375",
				"width_m": "500",
				"url_n": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_n.jpg",
				"height_n": "240",
				"width_n": "320",
				"url_z": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_z.jpg",
				"height_z": "480",
				"width_z": "640",
				"url_c": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_c.jpg",
				"height_c": "600",
				"width_c": "800",
				"url_l": "https:\/\/farm6.staticflickr.com\/5559\/15148026701_dc334c5f23_b.jpg",
				"height_l": "768",
				"width_l": "1024",
				"pathalias": "nexocentric" },
			{ 
				"id": "13",
				"owner": "42488861@N06",
				"secret": "07f872e1a3",
				"server": "3904",
				"farm": 4,
				"title": "14355939586_a27caf5d05_o.jpg",
				"ispublic": 1,
				"isfriend": 0,
				"isfamily": 0,
				"dateupload": "1409894021",
				"lastupdate": "1410019762",
				"datetaken": "2014-05-25 21:07:07",
				"datetakengranularity": 0,
				"ownername": "nexocentric",
				"iconserver": "2630",
				"iconfarm": 3, "views": 0,
				"tags": "",
				"machine_tags": "",
				"latitude": 0,
				"longitude": 0, "accuracy": 0, "context": 0, "media": "photo",
				"media_status": "ready",
				"url_sq": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_s.jpg",
				"height_sq": 75, "width_sq": 75, "url_t": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_t.jpg",
				"height_t": 75, "width_t": 100, "url_s": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_m.jpg",
				"height_s": "180",
				"width_s": "240",
				"url_q": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_q.jpg",
				"height_q": "150",
				"width_q": "150",
				"url_m": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3.jpg",
				"height_m": "375",
				"width_m": "500",
				"url_n": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_n.jpg",
				"height_n": "240",
				"width_n": "320",
				"url_z": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_z.jpg",
				"height_z": "480",
				"width_z": "640",
				"url_c": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_c.jpg",
				"height_c": "600",
				"width_c": "800",
				"url_l": "https:\/\/farm4.staticflickr.com\/3904\/14957757027_07f872e1a3_b.jpg",
				"height_l": "768",
				"width_l": "1024",
				"pathalias": "nexocentric" },
			{ 
				"id": "4",
				"owner": "42488861@N06",
				"secret": "35c9796be7",
				"server": "3879",
				"farm": 4,
				"title": "14503444755_6cd31cef84_o.jpg",
				"ispublic": 1,
				"isfriend": 0,
				"isfamily": 0,
				"dateupload": "1409887016",
				"lastupdate": "1410019762",
				"datetaken": "2014-06-18 10:58:38",
				"datetakengranularity": 0,
				"ownername": "nexocentric",
				"iconserver": "2630",
				"iconfarm": 3, "views": 0,
				"tags": "",
				"machine_tags": "",
				"latitude": 0,
				"longitude": 0, "accuracy": 0, "context": 0, "media": "photo",
				"media_status": "ready",
				"url_sq": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_s.jpg",
				"height_sq": 75, "width_sq": 75, "url_t": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_t.jpg",
				"height_t": 75, "width_t": 100, "url_s": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_m.jpg",
				"height_s": "180",
				"width_s": "240",
				"url_q": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_q.jpg",
				"height_q": "150",
				"width_q": "150",
				"url_m": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7.jpg",
				"height_m": "375",
				"width_m": "500",
				"url_n": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_n.jpg",
				"height_n": "240",
				"width_n": "320",
				"url_z": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_z.jpg",
				"height_z": "480",
				"width_z": "640",
				"url_c": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_c.jpg",
				"height_c": "600",
				"width_c": "800",
				"url_l": "https:\/\/farm4.staticflickr.com\/3879\/14957001340_35c9796be7_b.jpg",
				"height_l": "768",
				"width_l": "1024",
				"pathalias": "nexocentric" },
			{ 
				"id": "5",
				"owner": "42488861@N06",
				"secret": "6def5817dc",
				"server": "3902",
				"farm": 4,
				"title":
				"IMAG0163.jpg",
				"ispublic": 1,
				"isfriend": 0,
				"isfamily": 0,
				"dateupload": "1409886721",
				"lastupdate": "1410019762",
				"datetaken": "2014-03-13 00:07:07",
				"datetakengranularity": 0,
				"ownername": "nexocentric",
				"iconserver": "2630",
				"iconfarm": 3, "views": 0,
				"tags": "",
				"machine_tags": "",
				"latitude": 0,
				"longitude": 0, "accuracy": 0, "context": 0, "media": "photo",
				"media_status": "ready",
				"url_sq": "https:\/\/farm4.staticflickr.com\/3902\/15120623236_6def5817dc_s.jpg",
				"height_sq": 75, "width_sq": 75, "url_t": "https:\/\/farm4.staticflickr.com\/3902\/15120623236_6def5817dc_t.jpg",
				"height_t": 57, "width_t": 100, "url_s": "https:\/\/farm4.staticflickr.com\/3902\/15120623236_6def5817dc_m.jpg",
				"height_s": "136",
				"width_s": "240",
				"url_q": "https:\/\/farm4.staticflickr.com\/3902\/15120623236_6def5817dc_q.jpg",
				"height_q": "150",
				"width_q": "150",
				"url_m": "https:\/\/farm4.staticflickr.com\/3902\/15120623236_6def5817dc.jpg",
				"height_m": "283",
				"width_m": "500",
				"url_n": "https:\/\/farm4.staticflickr.com\/3902\/15120623236_6def5817dc_n.jpg",
				"height_n": "181",
				"width_n": "320",
				"url_z": "https:\/\/farm4.staticflickr.com\/3902\/15120623236_6def5817dc_z.jpg",
				"height_z": "362",
				"width_z": "640",
				"url_c": "https:\/\/farm4.staticflickr.com\/3902\/15120623236_6def5817dc_c.jpg",
				"height_c": "452",
				"width_c": "800",
				"url_l": "https:\/\/farm4.staticflickr.com\/3902\/15120623236_6def5817dc_b.jpg",
				"height_l": "579",
				"width_l": "1024",
				"pathalias": "nexocentric" }
		] }, 
	"stat": "ok" 
};

function validateArray(arrayToValidate)
{
	if (
		typeof arrayToValidate != "undefined" 
		&& arrayToValidate != null 
		&& arrayToValidate.length != null
		&& arrayToValidate.length > 0
	) {
		return true;
	}
	return false;
}


QUnit.test("toggleFunctionTimeout function", function(assert) {
	var returnValue = toggleFunctionTimeout();
	assert.deepEqual(returnValue, false, 'no parameters specified');

	returnValue = toggleFunctionTimeout(Math.random);
	assert.deepEqual(returnValue, false, 'function specified without timeout interval');

	returnValue = toggleFunctionTimeout(Math.random, 700000);
	assert.ok(typeof returnValue === typeNumber, 'function did not return handle for timeout');

	returnValue = toggleFunctionTimeout(returnValue);
	assert.deepEqual(returnValue, true, 'failed to cancel timeout');
});

QUnit.test("parseFlickrPhotoList function", function(assert) {
	var returnValue = parseFlickrPhotoList(samplePhotoList1);
	assert.deepEqual(returnValue, true, 'initializes photowall when no photos loaded');

	returnValue = parseFlickrPhotoList(samplePhotoList1);
	returnValue = validateArray(returnValue);
	assert.deepEqual(returnValue, false, 'stops processing if no changes detected between flickr and photowall');	
});

QUnit.test("countPhotoFrames function", function(assert) {
	var returnValue = countPhotoFrames(true);
	assert.deepEqual(returnValue, 5, 'detects number of empty frames on photowall');

	$('#dynamic-photo-wall').append('<li class="element-for-test"><div id="frame5" class="photo-frame"><img class="photo" data_upload_timestamp="1"></div></li>');
	returnValue = countPhotoFrames();
	assert.deepEqual(returnValue, 1, 'detects number of filled frames on photowall');
	$('.element-for-test').remove();
});

QUnit.test("findLinkForLargestPhotoSize function", function(assert) {
	var returnValue = findLinkForLargestPhotoSize(samplePhotoList1.photos.photo[0], []);
	assert.deepEqual(returnValue, '', 'returns empty string when size list not defined');

	returnValue = findLinkForLargestPhotoSize(samplePhotoList1.photos.photo[0], ['fff', 'xxx']);
	assert.deepEqual(returnValue, '', 'returns empty string when url not not found');

	returnValue = findLinkForLargestPhotoSize(samplePhotoList1.photos.photo[1], ['x', 'y', 'b', 'c']);
	assert.ok(returnValue != '', 'returns url when found');
});

QUnit.test("fetchTimestampsFromFlickrList function", function(assert) {
	var selectedPhotoSizes = ['x', 'y', 'b', 'c'];
	var returnValue = fetchTimestampsFromFlickrList();
	assert.deepEqual(returnValue, false, 'returns false when flickr object not passed');

	returnValue = fetchTimestampsFromFlickrList(samplePhotoList1.photos.photo);
	assert.deepEqual(returnValue, false, 'returns false when size list not passed');

	returnValue = fetchTimestampsFromFlickrList(samplePhotoList1.photos.photo, ['b', 'c', 'z'], 0);
	assert.ok(typeof returnValue === typeObject, 'returns array on successful parse');
	assert.deepEqual(returnValue.length, 0, 'returns empty list when maximum photo count set to 0');

	returnValue = fetchTimestampsFromFlickrList(samplePhotoList1.photos.photo, ['b', 'c', 'z'], 1);
	assert.deepEqual(returnValue.length, 1, 'returns one item when maximum photo count set to 1');
});

QUnit.test("fetchTimestampsFromPhotowall function", function(assert) {
	$('#dynamic-photo-wall').append('<li class="element-for-test"><div id="frame5" class="photo-frame"><img class="photo" data_upload_timestamp="1"></div></li>');
	var returnValue = fetchTimestampsFromPhotowall();
	returnValue = fetchTimestampsFromPhotowall();
	assert.ok(typeof returnValue === typeObject, 'returns array on successful parse');
	assert.ok(returnValue.indexOf('1') > -1, 'returns timestamp of frames with images in them');
	$('.element-for-test').remove();
});